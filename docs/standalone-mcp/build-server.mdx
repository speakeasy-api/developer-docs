---
title: "Generate MCP Server from OpenAPI/Swagger"
description: "Build and deploy your MCP server using Speakeasy"
---

import { Callout } from "@/mdx/components";
import { FileTree } from "nextra/components";

# Generate MCP Server from OpenAPI/Swagger

Learn how to build MCP servers from your API specifications using Speakeasy for production-ready servers with extensive customization options.

## Getting started with Speakeasy

To build an MCP server using Speakeasy:

1. **Install the Speakeasy CLI**:
   ```bash
   # Homebrew (macOS)
   brew install speakeasy-api/homebrew-tap/speakeasy

   # Script Installation (macOS and Linux)
   curl -fsSL https://go.speakeasy.com/cli-install.sh | sh
   ```

2. **Run Speakeasy quickstart**:
   ```bash
   speakeasy quickstart
   ```

3. **Generate an MCP server**:
   ```bash
   What would you like to generate?
    Software Development Kit (SDK)
    Terraform Provider
    > Model Context Protocol (MCP) Server
   ```

4. **Indicate whether you plan to deploy your server on Cloudflare**:
   [Cloudflare](https://developers.cloudflare.com/agents/guides/remote-mcp-server/) is a popular choice for hosting MCP servers. If selected, a Cloudflare Worker config file will be generated with your MCP server code. This will make deploying your server to Cloudflare Worker easy.

This creates a TypeScript-based MCP server in the specified directory ready to be deployed into production.

## Example server code

The generated MCP server includes a comprehensive file structure with TypeScript source code:

<div className="filetree-container">
<FileTree>
  <FileTree.Folder name="mcp-server/src" defaultOpen>
    <FileTree.Folder name="cloudflare-worker">
      <FileTree.File name="cloudflare-worker.ts" />
      <FileTree.File name="landing-page.ts" />
    </FileTree.Folder>
    <FileTree.File name="core.ts" />
    <FileTree.Folder name="funcs">
      <FileTree.File name="bookingsCreateBooking.ts" />
      <FileTree.File name="bookingsCreateBookingRaw.ts" />
      <FileTree.File name="bookingsDeleteBooking.ts" />
      <FileTree.File name="bookingsGetBooking.ts" />
      <FileTree.File name="bookingsGetBookings.ts" />
      <FileTree.File name="paymentsCreateBookingPayment.ts" />
      <FileTree.File name="stationsGetStations.ts" />
      <FileTree.File name="tripsGetTrips.ts" />
    </FileTree.Folder>
    <FileTree.Folder name="hooks">
      <FileTree.File name="hooks.ts" />
      <FileTree.File name="registration.ts" />
      <FileTree.File name="types.ts" />
    </FileTree.Folder>
    <FileTree.Folder name="lib">
      <FileTree.File name="base64.ts" />
      <FileTree.File name="config.ts" />
      <FileTree.File name="dlv.ts" />
      <FileTree.File name="encodings.ts" />
      <FileTree.File name="env.ts" />
      <FileTree.File name="files.ts" />
      <FileTree.File name="http.ts" />
      <FileTree.File name="is-plain-object.ts" />
      <FileTree.File name="logger.ts" />
      <FileTree.File name="matchers.ts" />
      <FileTree.File name="primitives.ts" />
      <FileTree.File name="result.ts" />
      <FileTree.File name="retries.ts" />
      <FileTree.File name="schemas.ts" />
      <FileTree.File name="sdks.ts" />
      <FileTree.File name="security.ts" />
      <FileTree.File name="url.ts" />
    </FileTree.Folder>
    <FileTree.Folder name="mcp-server" defaultOpen>
      <FileTree.File name="build.mts" />
      <FileTree.File name="cli.ts" />
      <FileTree.Folder name="cli">
        <FileTree.Folder name="start">
          <FileTree.File name="command.ts" />
          <FileTree.File name="impl.ts" />
        </FileTree.Folder>
      </FileTree.Folder>
      <FileTree.File name="console-logger.ts" />
      <FileTree.File name="extensions.ts" />
      <FileTree.File name="mcp-server.ts" />
      <FileTree.File name="prompts.ts" />
      <FileTree.File name="resources.ts" />
      <FileTree.File name="scopes.ts" />
      <FileTree.File name="server.ts" />
      <FileTree.File name="shared.ts" />
      <FileTree.File name="tools.ts" />
      <FileTree.Folder name="tools">
        <FileTree.File name="bookingsCreateBooking.ts" />
        <FileTree.File name="bookingsCreateBookingRaw.ts" />
        <FileTree.File name="bookingsDeleteBooking.ts" />
        <FileTree.File name="bookingsGetBooking.ts" />
        <FileTree.File name="bookingsGetBookings.ts" />
        <FileTree.File name="paymentsCreateBookingPayment.ts" />
        <FileTree.File name="stationsGetStations.ts" />
        <FileTree.File name="tripsGetTrips.ts" />
      </FileTree.Folder>
    </FileTree.Folder>
    <FileTree.Folder name="models">
      <FileTree.File name="booking.ts" />
      <FileTree.File name="bookinginput.ts" />
      <FileTree.File name="bookingpayment.ts" />
      <FileTree.File name="createbookingop.ts" />
      <FileTree.File name="createbookingpaymentop.ts" />
      <FileTree.File name="createbookingrawop.ts" />
      <FileTree.File name="deletebookingop.ts" />
      <FileTree.Folder name="errors">
        <FileTree.File name="apierror.ts" />
        <FileTree.File name="httpclienterrors.ts" />
        <FileTree.File name="sdkvalidationerror.ts" />
      </FileTree.Folder>
      <FileTree.File name="getbookingop.ts" />
      <FileTree.File name="getbookingsop.ts" />
      <FileTree.File name="getstationsop.ts" />
      <FileTree.File name="gettripsop.ts" />
      <FileTree.File name="linksbooking.ts" />
      <FileTree.File name="linksself.ts" />
      <FileTree.File name="newbookingop.ts" />
      <FileTree.File name="problem.ts" />
      <FileTree.File name="security.ts" />
      <FileTree.File name="station.ts" />
      <FileTree.File name="trip.ts" />
    </FileTree.Folder>
    <FileTree.Folder name="types">
      <FileTree.File name="async.ts" />
      <FileTree.File name="blobs.ts" />
      <FileTree.File name="enums.ts" />
      <FileTree.File name="fp.ts" />
      <FileTree.File name="rfcdate.ts" />
      <FileTree.File name="streams.ts" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>
</div>


## Run your MCP server locally

Configure your MCP server to run locally in your MCP client (like Claude Desktop):

```json
{
  "mcpServers": {
    "MyAPI": {
      "command": "npx",
      "args": ["-y", "--", "your-sdk-package", "mcp", "start"],
      "env": {
        "API_TOKEN": "your-api-token-here"
      }
    }
  }
}
```

For local development:

```json
{
  "mcpServers": {
    "MyAPI": {
      "command": "node",
      "args": ["/path/to/repo/bin/mcp-server.js", "start"],
      "env": {
        "API_TOKEN": "your-api-token-here"
      }
    }
  }
}
```

## Advanced configuration

### Specify scopes at runtime

When starting the MCP server, you can specify which scopes to include:

```json
{
  "mcpServers": {
    "MyAPI": {
      "command": "npx",
      "args": ["-y", "--", "your-sdk-package", "mcp", "start", "--scope", "read"],
      "env": {
        "API_TOKEN": "your-api-token-here"
      }
    }
  }
}
```

This example configuration only mounts tools tagged with the `read` scope, creating a read-only server.

### Specify individual tools

You can further limit the subset of tools mounted on an MCP server by specifying individual tool names:

```json
{
  "mcpServers": {
    "MyAPI": {
      "command": "npx",
      "args": ["-y", "--", "your-sdk-package", "mcp", "start", "--tool", "my_tool_1", "--tool", "my_tool_2"],
      "env": {
        "API_TOKEN": "your-api-token-here"
      }
    }
  }
}
```

## Distribution methods

Speakeasy generates MCP servers that can be published and distributed as npm packages or used directly with `npx`. This allows you to:

- Share tools across teams
- Deploy to different environments
- Distribute to external users
- Version and maintain your MCP servers independently

## Best practices

When building MCP servers with Speakeasy:

1. **Use clear OpenAPI documentation** - Well-documented APIs generate better MCP tools
2. **Leverage the x-speakeasy-mcp extension** - Customize tool names, descriptions, and scopes
3. **Implement proper error handling** - Ensure your API returns meaningful error messages
4. **Test thoroughly** - Verify your MCP server works with different clients
5. **Version your APIs** - Use semantic versioning for your OpenAPI specifications
6. **Monitor performance** - Track usage and performance of your MCP tools

## Next steps

Having set up your MCP server with Speakeasy, explore these additional capabilities:

- [Customize Tools](/docs/standalone-mcp/customize-tools) - Learn how to use the `x-speakeasy-mcp` OpenAPI extension
- [Custom Resources](/docs/standalone-mcp/custom-resources) - Add custom resources to your server
- [Custom Prompts](/docs/standalone-mcp/custom-prompts) - Create reusable prompt templates
- [Setting up OAuth](/docs/standalone-mcp/setting-up-oauth) - Configure authentication for your server
