---
title: "Set up your SDK on GitHub"
description: "Learn how to set up your GitHub repo to automatically generate and publish SDKs using the Speakeasy GitHub workflow."
position: 1
---

{/*import { Tabs } from "@speakeasy/nextra-theme";*/}
{/* import { Callout } from "~/components"; */}

# SDK Generation workflow

The SDK Generation workflow is powered by the [Speakeasy CLI](https://github.com/speakeasy-api/speakeasy) and the Speakeasy [SDK Generation GitHub Action](https://github.com/speakeasy-api/sdk-generation-action). The workflow automates the process of:

- Downloading or loading the OpenAPI document from a URL or repository.
- Validating the OpenAPI document.
- Generating SDKs for multiple languages.
- Committing the generated SDKs to the repository or opening a pull request (PR).

## Example workflow file

```yml
name: SDK Generation
permissions:
  checks: write
  contents: write
  pull-requests: write
  statuses: write

on:
  workflow_dispatch:
    inputs:
      force:
        description: Force SDK generation, even if no changes are detected.
        type: boolean
        default: false

jobs:
  generate:
    uses: speakeasy-api/sdk-generation-action/.github/workflows/workflow-executor.yaml@v15
    with:
      speakeasy_version: latest
      force: ${{ github.event.inputs.force }}
      mode: pr
    secrets:
      github_access_token: ${{ secrets.GITHUB_TOKEN }}
      speakeasy_api_key: ${{ secrets.SPEAKEASY_API_KEY }}
```

## Step-by-step guide

### 1. Initialize SDK Repository

Create a new GitHub repository to host the autogenerated SDKs. It is recommended to use a separate repository for each SDK, but a [monorepo](/guides/sdks/creating-a-monorepo) is also supported.

### 2. Generate SDK Workflow Configuration

Run the Speakeasy CLI to configure the SDK generation workflow. This command creates the necessary workflow files.

```bash
speakeasy configure github
```

After running the command, `.speakeasy/workflow.yaml` and `.github/workflows/sdk_generation.yaml` will be created. These files define the SDK generation workflow and the associated GitHub Action.

<div className="Screenshot" variant="cli">
  ![Screenshot of the terminal after successfully running Speakeasy configure
  Github.](../assets/configure-github/configure.png)
</div>

If further customization is needed, [manual configuration](/docs/workflow-reference/generation-reference) of the workflow files is available.

### 3. Set up GitHub secrets

Configure GitHub secrets for authentication:

- Navigate to **Settings > Secrets & Variables > Actions** in your GitHub repository.
- Add a new secret named `SPEAKEASY_API_KEY` which can be obtained from the Speakeasy dashboard.

### 4. Push to GitHub

Commit and push the generated workflow files to the repository. To test your GitHub Action without modifying any GitHub branches, put the action into `mode: test`.

Navigate to **Actions** in the GitHub repository to trigger the SDK generation workflow manually or wait for it to run automatically. A green checkmark indicates successful workflow completion. If the publishing step has not been configured, it will be skipped.

<div className="Screenshot"
  data-darkened
  data-url="https://github.com/speakeasy-sdks/example/actions/runs/9900330987"
>
  ![A screenshot of a successful generate
  flow.](../assets/configure-github/successful-workflow.png)
</div>

For details on package publishing, refer to the [Publishing SDKs guide](/docs/publish-sdk).

### 5. GitHub Actions workflow permissions

If the error `403 GitHub Actions is not permitted to create or approve pull requests` occurs, the repositoryâ€™s GitHub Actions permissions must be updated.

Navigate to **Settings > Actions > Workflow permissions** and adjust the permissions accordingly.

<div className="Screenshot"
  data-darkened
  data-url="https://github.com/speakeasy-sdks/example/settings/actions"
>
  ![Github Actions workflow
  permissions.](../assets/configure-github/workflow-permissions.png)
</div>

## Configure remote URLs for schemas

<div className="Callout" data-title="Warning" data-variant="warning">
  Remote URLs for OpenAPI schemas must remain stable. Dynamically constructed
  URLs in workflow files are not supported.
</div>

If the OpenAPI schema is hosted in another repository or at a remote URL, set the `source` as the remote URL in `.speakeasy/workflow.yaml`. Use the following command to add the remote URL:

<div className="Screenshot" variant="cli">
  ![Configure Remote URL for
  schema.](../assets/configure-github/remote-url-schema.png)
</div>

To authenticate the remote URL, provide a token or key stored as an environment variable (e.g., `$OPENAPI_DOC_AUTH_TOKEN`).

**Important**: When fetching OpenAPI specs from private repositories, ensure that you prefix the token value with "Bearer " when setting the value. For example:

```bash
OPENAPI_DOC_AUTH_TOKEN="Bearer <YOUR_TOKEN_VALUE>"
```

Add a [GitHub Secret](https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions) with the same name and value as the token or key (including the "Bearer " prefix for private repositories).
